Torque does not have support for cgroups as of the time of this writing.  Ryan Cox at BYU almost completed a prologue-based mechanism for using cgroups but it was never finished due to the anticipated and eventual switch to SLURM.  The test code is provided in an incomplete state in the directory incomplete_cgroups_support/.  Read the README in that directory.

The helper script sshrc helps "catch" users who use ssh to distribute tasks.  It uses tm_adopt() to begin tracking any processes launched through ssh under the proper job ID.  It requires additional ssh configuration as demonstrated in the ssh* files.  If you add cgroups support or Torque adds it, you may need to add something to sshrc so the process will be in the proper cgroup.
